
<div class="card shadow mb-4">
    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
    <h6 class="m-0 font-weight-bold text-primary">Ciclos Owner Ball</h6>
    <div class="dropdown no-arrow">
        <a id="btnNewCycleOwnerBall" class="btn btn-primary">
            <i class="bi bi-plus-circle"></i> Novo Ciclo
        </a>
        <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <i class="bi bi-three-dots-vertical text-gray-400"></i>
        </a>
        <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
        <div class="dropdown-header">Opções:</div>
        <a class="dropdown-item" href="#"><i class="bi bi-file-earmark-excel me-2"></i>Exportar para Excel</a>
        <a class="dropdown-item" href="#"><i class="bi bi-file-earmark-pdf me-2"></i>Exportar para PDF</a>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" href="#"><i class="bi bi-gear me-2"></i>Configurações</a>
        </div>
    </div>
    </div>
    <div class="card-body">
    <div class="table-responsive">
        <table class="table table-hover" id="ciclosTable">
        <thead>
            <tr>
            <th>Categoria</th>
            <th>Data Inicial e Final</th>
            <th>Saldo Atual</th>
            <th>Disponível para Entrada</th>
            <th class="text-center">Ações</th>
            </tr>
        </thead>
        <tbody>
            {% if cycle_owner_ball %}
            {% for cycle in cycle_owner_ball %}
            <tr>
                <td>{{ cycle.get_category_display }}</td>
                <td>{{ cycle.start_date|date:"d/m/Y" }} a {{ cycle.end_date|date:"d/m/Y" }}</td>
                <td>
                <div class="d-flex align-items-center">
                    <span class="me-2">R$ {{ cycle.current_balance|floatformat:2 }}</span>
                    <button class="btn btn-sm btn-outline-info btn-evolucao-saldo" 
                            data-ciclo-id="{{ cycle.id }}"
                            data-ciclo-categoria="{{ cycle.category }}"
                            data-ciclo-periodo="{{ cycle.start_date|date:'d/m/Y' }} à {{ ciclo.end_date|date:'d/m/Y' }}"
                            title="Ver evolução do saldo">
                    <i class="bi bi-graph-up"></i>
                    </button>
                </td>
                <td>R$ {{ cycle.available_value }}</td>
                <td class="text-center">
                <a href="{% url 'ciclo:ciclo_edit' cycle.pk %}" class="btn btn-sm btn-primary" title="Editar">
                    <i class="bi bi-pencil"></i>
                </a>
                <a href="{% url 'ciclo:ciclo_delete' cycle.pk %}" class="btn btn-sm btn-danger" title="Excluir">
                    <i class="bi bi-trash"></i>
                </a>
                </td>
            </tr>
            {% endfor %}
            {% else %}
            <tr>
                <td colspan="5" class="text-center">Nenhum ciclo cadastrado.</td>
            </tr>
            {% endif %}
        </tbody>
        </table>
    </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-6">
    <div class="card shadow mb-4">
        <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">Evolução do Saldo</h6>
        </div>
        <div class="card-body">
        <div class="chart-area">
            <div style="height: 300px; background-color: #2c2c2c; display: flex; align-items: center; justify-content: center; border-radius: 4px;">
            <p class="text-center text-muted">Gráfico de Evolução do Saldo em desenvolvimento</p>
            </div>
        </div>
        </div>
    </div>
    </div>
    
    <div class="col-lg-6">
    <div class="card shadow mb-4">
        <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">Evolução Disponibilidade Entrada</h6>
        </div>
        <div class="card-body">
        <div class="chart-area">
            <div style="height: 300px; background-color: #2c2c2c; display: flex; align-items: center; justify-content: center; border-radius: 4px;">
            <p class="text-center text-muted">Gráfico de Evolução Disponibilidade Entrada em desenvolvimento</p>
            </div>
        </div>
        </div>
    </div>
    </div>
</div>